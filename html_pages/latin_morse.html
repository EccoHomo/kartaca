<!DOCTYPE html>
<html>
<head>
	<title>Latin to Morse</title>
	<script src="https://unpkg.com/vue@2.6.10/dist/vue.js"></script>
	<script src ="/socket.io/socket.io.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
	<div id=ltm class="lengths">
		
		<textarea v-model = "input_text" cols=50 rows=10 id="textarea_newline"></textarea><br><br>
		<button v-on:click="convert_text">Convert</button><br><br>
		<textarea v-model = "output_text" readonly cols=50 rows=10 id="textarea_newline"></textarea><br><br>
		<a href="/">Back to Home</a>

	</div>

	<script>

		var socket = io('http://localhost:8000');
		

		var convert = new Vue({
			el: '#ltm',
			data: {
				input_text: null,
				output_text: null
			},

			methods: {
				convert_text : function(){
					var data = this.input_text;
					socket.emit('latin_request', {
						req_data : data
					});
				}
			}

		});

		socket.on('latin_response', function(data){
			convert.output_text = data.response;
		});

		$( "#textarea_newline" ).keyup( function() {
       		$( "#output_div" ).html( $( this ).val() );
    	}); 
	</script>

</body>
</html>